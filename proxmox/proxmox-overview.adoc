---
sidebar: sidebar 
permalink: proxmox/proxmox-overview.html 
keywords: proxmox ve, kvm, qemu, lxc, vm 
summary:  
---
= En savoir plus sur l'environnement virtuel Proxmox
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Proxmox Virtual Environment (VE) est un hyperviseur open source de type 1 basé sur Debian Linux, capable d'héberger à la fois des machines virtuelles et des conteneurs Linux (LXC).  Découvrez Proxmox VE, notamment sa prise en charge de la virtualisation complète basée sur des machines virtuelles et des conteneurs, la gestion des clusters, les options de calcul et de stockage, les capacités de mise en réseau, les outils de surveillance et les stratégies de protection des données.



== Aperçu

Proxmox Virtual Environment (VE) prend en charge la virtualisation complète basée sur des machines virtuelles et des conteneurs sur le même hôte.  La machine virtuelle basée sur le noyau (KVM) et l'émulateur rapide (QEMU) sont utilisés pour la virtualisation complète des machines virtuelles.  QEMU est un émulateur et un virtualiseur de machine open source et il utilise le module KVM Kernel pour exécuter le code invité directement sur le processeur hôte.  Linux Containers (LXC) permet de gérer les conteneurs comme des machines virtuelles avec une persistance des données lors des redémarrages.

image:proxmox-overview-001.png["VM et LXC sur l'hôte Proxmox"]

L'API RESTful est disponible pour les tâches d'automatisation.  Pour plus d'informations sur les appels d'API, consultezlink:https://pve.proxmox.com/pve-docs/api-viewer/index.html["Visionneuse d'API Proxmox VE"]



== Gestion des clusters

Le portail de gestion Web est disponible sur le nœud Proxmox VE au port 8006.  Un ensemble de nœuds peut être réuni pour former un cluster.  La configuration Proxmox VE, `/etc/pve` , est partagé entre tous les nœuds du cluster.  Utilisations de Proxmox VElink:https://pve.proxmox.com/wiki/Cluster_Manager["Moteur de cluster Corosync"] pour gérer le cluster.  Le portail de gestion est accessible depuis n’importe quel nœud du cluster.

image:proxmox-overview-002.png["Interface de gestion"]

Un cluster permet de surveiller et de redémarrer les machines virtuelles et les conteneurs sur d’autres nœuds en cas de défaillance du nœud d’hébergement.  Les machines virtuelles et les conteneurs doivent être configurés pour la haute disponibilité (HA).  Les machines virtuelles et les conteneurs peuvent être hébergés sur un sous-ensemble spécifique d'hôtes en créant des groupes.  La machine virtuelle ou le conteneur est hébergé sur un hôte avec la priorité la plus élevée.  Pour plus d'informations, consultezlink:https://pve.proxmox.com/wiki/High_Availability["Gestionnaire HA"]

image:proxmox-overview-003.png["Priorité du groupe HA"]

Les options d'authentification incluent Linux PAM, Proxmox VE PAM, LDAP, Microsoft AD ou OpenID.  Les autorisations peuvent être attribuées via des rôles et l’utilisation de pools de ressources qui sont un ensemble de ressources.  Pour plus de détails, consultezlink:https://pve.proxmox.com/pve-docs/chapter-pveum.html["Gestion des utilisateurs Proxmox"]


TIP: Les informations d'identification de connexion LDAP/Microsoft AD peuvent être stockées en texte clair et dans un fichier qui doit être protégé par le système de fichiers hôte.



== Calculer

Les options de CPU pour une machine virtuelle incluent le nombre de cœurs et de sockets de CPU (pour spécifier le nombre de vCPU), l'option permettant de choisir NUMA, la définition de l'affinité, la définition des limites et le type de CPU.

image:proxmox-overview-011.png["Options de processeur de machine virtuelle"]

Pour obtenir des conseils sur les types de processeurs et leur impact sur la migration en direct, consultezlink:https://pve.proxmox.com/pve-docs/chapter-qm.html#qm_cpu["Section Machine virtuelle QEMU/KVM de la documentation Proxmox VE"]

Les options CPU pour l'image du conteneur LXC sont présentées dans la capture d'écran suivante.

image:proxmox-overview-012.png["Options du processeur LXC"]

La VM et le LXC peuvent spécifier la taille de la mémoire.  Pour les machines virtuelles, la fonctionnalité de gonflement est disponible pour les machines virtuelles Linux.  Pour plus d'informations, reportez-vous àlink:https://pve.proxmox.com/pve-docs/chapter-qm.html#qm_memory["Section Machine virtuelle QEMU/KVM de la documentation Proxmox VE"]



== Stockage

Une machine virtuelle se compose d'un fichier de configuration, `/etc/pve/qemu-server/<vm id>.conf` et les composants du disque virtuel.  Les formats de disque virtuel pris en charge sont raw, qcow2 et VMDK.  QCOW2 peut fournir des capacités de provisionnement léger et de snapshot sur différents types de stockage.

image:proxmox-overview-004.png["Formats de disque VM"]

Il existe une option permettant de présenter les LUN iSCSI à une machine virtuelle sous forme de périphériques bruts.

LXC possède également son propre fichier de configuration, `/etc/pve/lxc/<container id>.conf` , et les composants du disque conteneur.  Le volume de données peut être monté à partir des types de stockage pris en charge.

image:proxmox-overview-005.png["Support supplémentaire pour conteneur"]

Les types de stockage pris en charge incluent le disque local, le NAS (SMB et NFS) et le SAN (FC, iSCSI, NVMe-oF, etc.).  Pour plus de détails, reportez-vous àlink:https://pve.proxmox.com/pve-docs/chapter-pvesm.html["Stockage Proxmox VE"]

Chaque volume de stockage est configuré avec des types de contenu autorisés.  Les volumes NAS prennent en charge tous les types de contenu tandis que la prise en charge SAN est limitée aux images de machines virtuelles et de conteneurs.


NOTE: Le type de stockage de répertoire prend également en charge tous les types de contenu.  Les informations d'identification de connexion SMB sont stockées en texte clair et ne sont accessibles qu'à root.

image:proxmox-overview-006.png["Types de contenu avec NAS"]

image:proxmox-overview-007.png["Types de contenu avec SAN"]

Pour importer des machines virtuelles à partir d’un environnement Broadcom vSphere, l’hôte vSphere peut également être inclus en tant que périphérique de stockage.



== Réseau

Proxmox VE prend en charge les fonctionnalités réseau natives de Linux telles que Linux Bridge ou Open vSwitch, pour implémenter le réseau défini par logiciel (SDN).  Les interfaces Ethernet de l'hôte peuvent être reliées entre elles pour assurer la redondance et la haute disponibilité.  Pour d'autres options, reportez-vous àlink:https://pve.proxmox.com/pve-docs/chapter-sysadmin.html#_choosing_a_network_configuration["Documentation de Proxmox VE"]

image:proxmox-overview-008.png["Réseau lié"]

Les réseaux invités peuvent être configurés au niveau du cluster et les modifications sont transmises aux hôtes membres.  La séparation est gérée avec des zones, des réseaux virtuels et des sous-réseaux. link:https://pve.proxmox.com/pve-docs/chapter-pvesdn.html["Zone"] définit les types de réseau tels que Simple, VLAN, VLAN Stacking, VXLAN, EVPN, etc.

Selon le type de zone, le réseau se comporte différemment et offre des fonctionnalités, des avantages et des limitations spécifiques.

Les cas d'utilisation du SDN vont d'un réseau privé isolé sur chaque nœud individuel à des réseaux superposés complexes sur plusieurs clusters PVE situés à différents endroits.

Après avoir configuré un VNet dans l'interface d'administration SDN du centre de données à l'échelle du cluster, il est disponible en tant que pont Linux commun, localement sur chaque nœud, à attribuer aux machines virtuelles et aux conteneurs.

Lorsqu'une machine virtuelle est créée, l'utilisateur a la possibilité de choisir le pont Linux auquel se connecter.  Des interfaces supplémentaires peuvent être incluses après la création de la machine virtuelle.

image:proxmox-overview-013.png["Sélection du réseau VM"]

Et voici les informations VNet au niveau du centre de données.

image:proxmox-overview-014.png["Informations VNet au centre de données"]



== Surveillance

La page récapitulative de la plupart des objets, tels que le centre de données, l'hôte, la machine virtuelle, le conteneur, le stockage, etc. fournit des détails et inclut certaines mesures de performances.  La capture d’écran suivante montre la page de résumé d’un hôte et inclut des informations sur les packages installés.

image:proxmox-overview-009.png["Vue du package hôte"]

Les statistiques sur les hôtes, les invités, le stockage, etc. peuvent être transmises vers une base de données externe Graphite ou Influxdb.  Pour plus de détails, reportez-vous àlink:https://pve.proxmox.com/pve-docs/chapter-sysadmin.html#external_metric_server["Documentation de Proxmox VE"] .



== Protection des données

Proxmox VE inclut des options pour sauvegarder et restaurer les machines virtuelles et les conteneurs sur le stockage configuré pour le contenu de sauvegarde.  Les sauvegardes peuvent être lancées à partir de l'interface utilisateur ou de la CLI à l'aide de l'outil vzdump ou elles peuvent être planifiées. Pour plus de détails, reportez-vous àlink:https://pve.proxmox.com/pve-docs/chapter-vzdump.html["Section Sauvegarde et restauration de la documentation de Proxmox VE"] .

image:proxmox-overview-010.png["Contenu du stockage de sauvegarde Proxmox VE"]

Le contenu de sauvegarde doit être stocké hors site pour le protéger de tout sinistre sur le site source.

Veeam a ajouté la prise en charge de Proxmox VE avec la version 12.2.  Cela permet la restauration des sauvegardes de machines virtuelles depuis vSphere vers un hôte Proxmox VE.
